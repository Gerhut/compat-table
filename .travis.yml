language: node_js
node_js:
  - node
before_install:
  - git remote add github "https://${GITHUB_TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git"
script:
  - npm run build
  - "! git diff --quite"
before_deploy:
  - git add .
  - npm version 0.0.$(date +%Y%m%d%H%M%S)
  - git --quiet push --follow-tags github ${TRAVIS_BRANCH}
deploy:
  provider: npm
  email: Gerhut@GMail.com
  api_key: $NPM_TOKEN